/*
 * OKHover by OKFocus v1.2
 * http://okfoc.us 
 *
 * Copyright 2012, OKFocus
 * Licensed under the MIT license.
 *
 */
(function(b){b.okhover=function(d,e){var a=this;a.$el=b(d);a.el=d;a.$el.data("okhover",a);a.init=function(){a.options=b.extend({},b.okhover.options,e);a.options.el||b("body").append('<div id="ok-bg" style="width:100%;height:100%;background:scroll 150% 150% repeat;z-index:-1;position:fixed;top:0;left:0;"></div>');a.build()};a.build=function(){if(!a.options.el&&0==b("#ok-bg").length)throw Error("Failed to attach the ok-bg div to the DOM");a.start()};a.start=function(){var c=a.options.el?b(d):b("#ok-bg");
a.options.fadeIn&&!a.options.el&&c.hide();a.options.zIndex&&c.css("zIndex",a.options.zIndex);a.preload(a.$el);a.$el.bind({mouseover:function(){b(this).mousemove(function(a){c.css("backgroundPosition",a.pageX+"px "+a.pageY+"px")});c.css("backgroundImage","url("+b(this).attr("data-okimage")+")");a.options.fadeIn&&!a.options.el?c.css("opacity",0).stop().fadeTo(a.options.fadeInDuration,1):c.show()},mouseout:function(){a.options.fadeOut&&!a.options.el?c.stop().fadeTo(a.options.fadeOutDuration,0,function(){b(this).css("backgroundImage",
"").hide()}):a.options.el?c.css("backgroundImage",""):c.css("backgroundImage","").hide()}})};a.preload=function(a){a.each(function(){b(this).attr("data-okimage")&&((new Image).src=b(this).attr("data-okimage"))})};a.init()};b.okhover.options={fadeIn:!1,fadeOut:!1,fadeInDuration:400,fadeOutDuration:400,zIndex:null,el:null};b.fn.okhover=function(d){return this.each(function(){new b.okhover(this,d)})}})(jQuery);
